# Древовидное меню для Django

Приложение реализует древовидное меню для Django проектов.

## Возможности

1. Меню реализовано как template tag
2. Меню раскрывается с учетом текущего положения (все, что над выделенным пунктом, и первый уровень вложенности под ним)
3. Хранится в базе данных
4. Редактируется через стандартную админку Django
5. Активный пункт меню определяется исходя из URL текущей страницы
6. На странице может быть несколько меню с разными названиями
7. При клике на пункт меню происходит переход по URL (явно заданному или через named URL)
8. Для отрисовки каждого меню используется ровно 1 запрос к БД

## Установка

1. Клонировать репозиторий
2. Установить Django:
   ```
   pip install django
   ```
3. Применить миграции:
   ```
   python manage.py migrate
   ```
4. Создать суперпользователя:
   ```
   python manage.py createsuperuser
   ```
5. Запустить сервер разработки:
   ```
   python manage.py runserver
   ```

## Использование

1. **Добавление меню через админку**
   - Зайдите в админ-панель: http://127.0.0.1:8000/admin/
   - Добавьте новое меню через модель "Меню"
   - Добавьте пункты меню через модель "Пункты меню" или прямо в интерфейсе меню

2. **Вывод меню в шаблоне**
   ```html
   {% load menu_tags %}
   {% draw_menu 'main_menu' %}
   ```

3. **Структура пунктов меню**
   - Название пункта
   - Родительский пункт (для создания вложенности)
   - URL (можно указать прямой URL или named URL)
   - Порядок (для сортировки пунктов)

## Принцип работы

- Меню загружается одним запросом к БД
- Структура меню формируется на стороне Python
- Отображаемые/скрытые пункты определяются исходя из текущего URL
- Поддерживается любой уровень вложенности

## Настройка

Для использования в существующем проекте:
1. Скопируйте приложение `tree_menu` в ваш проект
2. Добавьте `'tree_menu'` в `INSTALLED_APPS` в settings.py
3. Выполните миграции
4. Используйте тег `{% draw_menu 'menu_name' %}` в ваших шаблонах # test_tree
